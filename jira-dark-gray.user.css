/* ==UserStyle==
@name         Jira Dark Gray
@namespace    github.com/aalvarado
@version      1.3.1
@license      BSD
@preprocessor default

==/UserStyle== */
@-moz-document regexp(".*.atlassian.net/jira.*"),
regexp(".*.atlassian.net/browse.*"),
regexp(".*.atlassian.net/secure.*") {
    header[role="banner"],
    [data-testid="Content"],
    html, body{
        background-color: #333 !important;
    }

    header a span {
        color: #8ec4fd;
    }

    /* translucent background when story is open in modal */
    .igoDWs {
        background-color: rgba(50, 70, 70, 0.64);
    }

    h1,
    h1 *,
    h2,
    h2 *,
    h3,
    h3 *,
    h4,
    h4 *,
    h5,
    h5 *,
    h6,
    h6 * {
        color: #8ec4fd !important;
    }

    svg {
        color: #8ec4fd;
    }

    span[role="presentation"] {
        fill: #8ec4fd;
    }

    header button span {
        color: #8ec4fd;
    }
    #ghx-swimlane-header-stalker,
    #ghx-column-header-group.ghx-fixed {
        background-color: #333;
    }

    .ghx-issue,
    .adg3 .js-issue.ghx-selected,
    .adg3 .js-issue.ghx-selected .ghx-items-container {
        background-color: #333;
    }

    .adg3 .js-issue.ghx-selected,
    .adg3 .js-issue.ghx-selected .ghx-items-container {
        background-color: #1c2c37;
    }

    .adg3 .ghx-issue-compact:hover,
    .adg3 .ghx-issue:hover {
        background-color: #444;
    }

    .ghx-swimlane-header::after {
        background: none;
        box-shadow: none;
    }

    .adg3 .ghx-summary,
    .adg3 .ghx-summary .ghx-inner {
        color: #8ec4fd;
    }

    [data-testid="atlassian-navigation--primary-actions"]:after {
        background: none;
    }

    /* Main area */
    [data-test-id="software-board.board"],
    .aui-page-panel,
    #ghx-pool,
    [data-ds--page-layout--slot="main"]
    {
        background-color: #333;
        color: #ddd;
    }

    /* Swimlane columns */
    .adg3 .ghx-column-headers .ghx-column,
    .adg3 .ghx-columns .ghx-column {
        background-color: #222;
    }

    /***
     * Left-hand Nav
    ***/
    /* remove top white border */
    .css-ac0tta::before, .css-77arw9::before {
        background: #333 !important;
    }

    [data-testid="ContextualNavigation"] div:first-child {
        background-color: #333;
        color: #8ec4fd;
    }

    [role="presentation"] [data-testid="NavigationItem"] {
        background-color: #333;
    }

    [data-test-id="software-board.board-area"] section div {
        background-color: #333;
    }

    section div[data-rbd-droppable-context-id] {
        background-color: #222;
    }

    [data-test-id="software-board.board-area"] section span {
        color: #ccc;
    }

    section div[data-test-id="platform-board-kit.common.ui.column-header.header.column-header-container"] div {
        background-color: #222;
    }

    [role="dialog"],
    .ghx-issue-compact,
    .ghx-issue-compact .ghx-end
    {
        background-color: #333;
        color: #ccc;
    }

    [role="presentation"] a {
        color: #8ec4fd;
    }

    [role="presentation"] p {
        color: #ccc;
    }

    .llCsQv:hover {
        background-color: #222;
    }

    [data-rbd-draggable-context-id] {
        background-color: #444;
    }

    .dKslwV {
        background-color: #333;
    }

    .hQVuBn {
        background-color: #444;
    }

    .jODjkq,
    .ak-editor-content-area {
        background-color: #111;
    }

    [data-test-id="issue.views.issue-details.issue-layout.left-most-column"],
    [data-test-id="issue.views.issue-details.issue-layout.right-most-column"],
    .sc-hMapFE.hDMqWg,
    .css-4rxc6l,
    #jira-issue-header {
        background-color: #222;
    }

    [data-test-id="profilecard-next.ui.profilecard.profilecard-trigger"] div,
    .llCsQv,
    .cfYUOi {
        color: #aaa;
    }

    ::marker {
        color: #ccc !important;
    }

    .hKALUX {
        background-color: transparent;
    }

    /* comment editor */
    /* Doesn't have any data property or anything else :/ */
    [data-test-id="issue.activity.comments-list"] + span > div > div {
        background-color: #333;
        padding: 10px;
    }

    [data-test-id="issue.activity.comment"],
    .akEditor {
        background-color: #333;
    }

    [data-test-id="issue.activity.comment"],
    .akEditor > div {
        background-color: #333;
    }

    [data-test-id="issue.activity.comment"] input,
    #create-issue-dialog .jira-dialog-heading,
    #edit-issue-dialog .jira-dialog-heading,
    .jira-dialog .jira-dialog-content,
    #create-issue-dialog .form-body,
    #create-issue-dialog .form-footer,
    #edit-issue-dialog .form-body,
    #edit-issue-dialog .form-footer,
    .ghx-backlog-container
    {
        background-color: #222;
        color: #ccc;
    }

    nav > div::after {
        background: #333 !important;
    }

    nav a,
    nav a div,
    nav button,
    nav button div {
        background-color: #444 !important;
    }

    nav a {
        margin-bottom: 6px;
    }

    nav a:last-child {
        margin-bottom: 0px;
    }

    nav div[data-section="true"] {
        background-color: #222;
        padding: 0px 6px 6px 6px;
        margin-bottom: 6px;
        border-radius: 6px;
    }

    nav button + a {
        margin-top: 10px;
    }

    [data-placement="bottom-start"] {
        background-color: #444;
        padding: 10px;
        box-shadow: -3px 3px 1px #00000850;
    }

    .jira-dialog-heading {
        width: auto;
    }

    .jira-dialog-content {
        border-top: 10px solid #333;
    }

    .adg3 .js-issue.ghx-issue-compact:hover,
    .adg3 .js-issue.ghx-issue-compact:hover .ghx-items-container {
        background-color: #444;
    }

    /* "Active Sprints" header row buttons */
    #ghx-quick-filters > ul > li > button, /* quick filters main toggle */
    .complete-sprint-container > button, /* "complete sprint" btn */
    .ghx-view-section > button {  /* "..." board menu */
        background-color: #444;
    }

    #ghx-quick-filters > ul > li > button:hover,
    .complete-sprint-container > button:hover,
    .ghx-view-section > button:hover {
        background-color: #555;
    }

    #ghx-quick-filters > ul > li > button span,
    #ghx-quick-filters > ul > li > button,
    .complete-sprint-container > button,
    .ghx-view-section > button span {
        color: #8ec4fd !important;
    }

    #ghx-quick-filters > ul:first-child > li:first-child {
        padding-right: 0;
    }

    #ghx-quick-filters > ul:first-child > li:last-child {
        margin-top: 0 !important;
    }

    #ghx-quick-filters > ul:first-child > li:last-child::before {
        content: unset;
    }

    #ghx-quick-filters > ul > li button {
        padding: 0 10px;
    }

    form.aui input[type="text"],
    form.aui .multi-select,
    form.aui .password,
    form.aui .select,
    form.aui .text,
    form.aui .textarea,
    form.aui .upfile {
        background-color: #171717;
        color: #ccc;
    }

    form.aui input[type="text"]:hover,
    form.aui .multi-select:hover,
    form.aui .password:hover,
    form.aui .select:hover,
    form.aui .text:hover,
    form.aui .textarea:hover,
    form.aui .upfile:hover,
    form.aui .multi-select:focus,
    form.aui .password:focus,
    form.aui .select:focus,
    form.aui .text:focus,
    form.aui .textarea:focus,
    form.aui .upfile:focus {
        background-color: #111;
        color: #ccc;
    }

    form.aui .field-group div.checkbox label,
    form.aui .field-group div.radio label,
    form.aui fieldset.group div.checkbox label,
    form.aui fieldset.group div.radio label {
        color: #8ec4fd;
    }

    .adg3 .ghx-issue-compact.ghx-flagged, .adg3 .ghx-issue.ghx-flagged {
        background-color: #2d2c1e;
    }
    
    /* Issue - right hand column */
    #jira-issue-header-actions {
        background: transparent;
    }
    
    [class^="ReadViewContentWrapper"] {
        background-color: #1c1c1c;
    }

    div[data-test-id="issue.views.issue-base.context.status-and-approvals-wrapper.status-and-approval"] div[data-test-id="issue.views.issue-base.foundation.status.status-field-wrapper"] button {
        background-color: #333 !important;
    }

    div[data-test-id="issue.views.issue-base.context.status-and-approvals-wrapper.status-and-approval"] div[data-test-id="issue.views.issue-base.foundation.status.status-field-wrapper"] button span {
        color: #8ec4fd;;
    }

    div[data-test-id="issue.views.issue-base.context.status-and-approvals-wrapper.status-and-approval"] div[data-test-id="issue.views.issue-base.foundation.status.status-field-wrapper"] button:hover {
        background-color: #444 !important;
    }

    /* Linked Issues */
    div[data-test-id="issue.views.issue-details.issue-layout.left-most-column"] div > ul {
        background-color: #222;
    }

    div[data-test-id="issue.views.issue-details.issue-layout.left-most-column"] div > ul > div {
        background-color: #333;
        border-radius: 3px;
    }

    /*** Activity ***/
    /* Nav buttons (show) */
    div[data-test-id="issue.views.issue-details.issue-layout.left-most-column"] > div > div > div > button {
        background-color: #333;
        border-radius: 3px 3px 0 0;
    }

    /* button:hover */
    div[data-test-id="issue.views.issue-details.issue-layout.left-most-column"] > div > div > div > button.css-jhagr1 {
        background-color: #555;
    }

    div[data-test-id="issue.views.issue-details.issue-layout.left-most-column"] > div > div > div > button.css-jhagr1 span {
        color: #FFF;
    }

    /* Comments */
    div[data-test-id="issue.views.issue-details.issue-layout.left-most-column"] > span > span > div,
    div[data-test-id="issue.views.issue-details.issue-layout.left-most-column"] > span > span > div > div {
        background-color: #333;
        padding: 10px 5px;
        border-radius: 3px;
    }
    
    .ghx-zone-cell {
        background-color: #222;
    }
    
    .ghx-zone-row.ghx-target-hover .ghx-zone-cell {
        background-color: #111;
    }
    
    [data-testid^="inline-card"] {
        background-color: #111;
    }
}
